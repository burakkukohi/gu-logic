\documentclass[a4paper]{article}

\usepackage{preamble}
\usepackage{semdtt-macros}
\RequirePackage{showlabels}

\title{Category with families}
\author{Frank Tsai}

\begin{document}

\maketitle

These are my personal notes on \cite{Hofmann1997}.
Any mistake is my own.

\section{Introduction}\label{sec:intro}

Unlike simple types, dependent types, as the name suggests, depend on or vary with values.
The quintessential example of a dependent type is the vector type.
Similar to the list type, the vector type is a container of items; however, the length of the container is explicitly stored in the type.

Semantics is a compositional assignment of mathematical objects to syntactic objects; for instance, types and terms may be interpreted as sets and functions respectively.

The aim of \cite{Hofmann1997} is to develop an abstract notion of semantics that provides a framework upon which one can develop various interpretations of type theory: to obtain an interpretation is to check that one has an instance of the semantic notion.

\section{Dependent type theory}\label{sec:dtt}

A dependent type theory is presented by its \emph{judgments}; for instance, the typehood of $\sigma$ is expressed by the judgment $\typeJudg{\sigma}$ and the elementhood of $t$ in $\sigma$ is expressed by the judgment $t : \sigma$.
The elementhood of an open term depends on the types of its open variables; for instance, we cannot make the judgment $x + y : \bN$ unless we already know that $x : \bN$ and $y : \bN$.
Since types can depend on values, the typehood of an expression such as $\sigma(x)$ must also be made relative to a list of \emph{variable declarations}.
Such lists of declarations are called \emph{contexts}.

More complex notions of context exist in the literature, but for our purpose, a context is a list of well-formed variable declarations of the form $x_1 : \sigma_1, x_2 : \sigma_2, \ldots, x_n : \sigma_n$ where each type $\sigma_i$ is a type in the context $x_1 : \sigma_1,\ldots, x_{i-1} : \sigma_{i-1}$.
The judgment $\ctxJudg{\Gamma}$ expresses that $\Gamma$ is a well-formed context.

Finally, we have a notion of \emph{definitional equality} built into the theory; for example, we'd like to regard $0 : \bN$ and $0 + 0 : \bN$ as definitionally equal terms and $\typeJudg{\sigma(0)}$ and $\typeJudg{\sigma(0+0)}$ as definitionally equal types.
We express these equalities via the judgments $0 = 0 + 0 : \bN$ and $\typeJudg{\sigma(0) = \sigma(0+0)}$ respectively.

To summarize, there are six kinds of judgments:
\begin{align*}
  &\vdash \ctxJudg{\Gamma} && \text{$\Gamma$ is a well-formed context}&&\\
  \Gamma &\vdash \typeJudg{\sigma} && \text{$\sigma$ is a type in context $\Gamma$}&&\\
  \Gamma &\vdash t : \sigma && \text{$t$ is a term of type $\sigma$ in context $\Gamma$}&&\\
  &\vdash \ctxJudg{\Gamma = \Delta} && \text{$\Gamma$ and $\Delta$ are definitionally equal contexts}&&\\
  \Gamma &\vdash \typeJudg{\sigma = \tau} && \text{$\sigma$ and $\tau$ are definitionally equal types in context $\Gamma$}&&\\
  \Gamma &\vdash t = s : \sigma && \text{$t$ and $s$ are definitionally equal terms of type $\sigma$ in context $\Gamma$}&&\\
\end{align*}

\subsection{Dependent product types}\label{sec:dpt}
\subsection{Dependent sum types}\label{sec:dst}
\subsection{Identity types}\label{sec:it}
\subsection{Universes}\label{sec:u}
\subsection{Examples of type theories}\label{sec:eott}

Martin-L\"of's Logical Framework (LF) is a type theory with $\Pi$-types and a universe.

The Calculus of Constructions (CoC) is a type theory with $\Pi$-types and a universe closed under impredicative quantification.

\section{Pre-syntax and context morphisms}\label{sec:pscm}

To give an abstract account of semantics, we begin by studying the structural aspect of type theory.

\begin{definition}[Hofmann]
  Let $\Gamma$ and $\Delta = x_1 : \sigma_1,\ldots,x_n : \sigma_n$ be well-formed contexts.
  If $f = (t_1,\ldots,t_n)$ is a sequence of $n$ pre-terms we write
  \[
    \Gamma \vdash f \Rightarrow \Delta
  \]
  and say that $f$ is a \emph{context morphism} from $\Gamma$ to $\Delta$ if the following $n$ judgments hold:
  \begin{align*}
    \Gamma &\vdash t_1 : \sigma_1\\
    \Gamma &\vdash t_2 : \sigma_2[t_1/x_1]\\
    &\ldots\\
    \Gamma &\vdash t_n : \sigma_n[t_1/x_1]\ldots[t_{n-1}/x_{n-1}]
  \end{align*}
\end{definition}

In plain English, a context morphism $\Gamma \vdash f \Rightarrow \Delta$ is a sequence of pre-terms in context $\Gamma$ that can be substituted into terms with variables declared in $\Delta$.

If $\Gamma \vdash f \Rightarrow \Delta$ and $\sigma$ is a pre-type, we write $\sigma[f]$ for the simultaneous substitution of the $\Delta$-variables in $\sigma$ by the corresponding terms in $f$.
This operation is defined analogously for pre-terms, pre-contexts, and judgments of the form $t : \sigma$, $\typeJudg{\sigma}$, $t = s : \sigma$, and $\typeJudg{\sigma = \tau}$.

In the following examples, we use commutative diagrams informally; we do not assume that there is a category of pre-contexts and context morphisms.

\begin{example}
  For any context $\Gamma$, there exists a unique context morphism $()$ from $\Gamma$ to the empty context $\emptyCtx$.
\end{example}

\begin{example}
  If $\Gamma := x_1 : \sigma_1,\ldots,x_{n} : \sigma_n$ is a context and $\Gamma \vdash \typeJudg{\sigma}$ and $x$ is a fresh variable, then $(x_1,\ldots,x_n)$ is a context morphism from $\Gamma, x : \sigma$ to $\Gamma$ which we denote by $\ctxExt(\Gamma,\sigma)$.
\end{example}

\begin{example}\label{eg:bar}
  For any context $\Gamma = x_1 : \sigma_1,\ldots,x_n : \sigma_n$ and any term $\Gamma \vdash t : \sigma$ we can form a context morphism $\Gamma \vdash \ctxSec{t} \Rightarrow \Gamma, x : \sigma$ where $\ctxSec{t} = (x_1,\ldots,x_n,t)$.
\end{example}

\begin{example}
  For any context $\Gamma = x_1 : \sigma_1,\ldots,x_n : \sigma_n$, we have the identity context morphism $\Gamma \vdash \id{\Gamma} \Rightarrow \Gamma$ given by $\id{\Gamma} = (x_1,\ldots,x_n)$.
\end{example}

\begin{example}
  Suppose $\Gamma \vdash f \Rightarrow \Delta$.
  There is a context morphism $\ctxWkn(f,\sigma)$ in the following configuration:
  % https://q.uiver.app/#q=WzAsNCxbMCwxLCJcXEdhbW1hIl0sWzEsMSwiXFxEZWx0YSJdLFsxLDAsIlxcRGVsdGEseDpcXHNpZ21hIl0sWzAsMCwiXFxHYW1tYSx4Olxcc2lnbWFbZl0iXSxbMCwxLCJmIiwyXSxbMiwxLCJcXGN0eEV4dChcXERlbHRhLFxcc2lnbWEpIl0sWzMsMCwiXFxjdHhFeHQoXFxHYW1tYSxcXHNpZ21hW2ZdKSIsMl0sWzMsMiwiXFxjdHhXa24oZixcXHNpZ21hKSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dXQ==
  \[\begin{tikzcd}
      {\Gamma,x:\sigma[f]} & {\Delta,x:\sigma} \\
      \Gamma & \Delta
      \arrow["{\ctxWkn(f,\sigma)}", dotted, from=1-1, to=1-2]
      \arrow["{\ctxExt(\Gamma,\sigma[f])}"', from=1-1, to=2-1]
      \arrow["{\ctxExt(\Delta,\sigma)}", from=1-2, to=2-2]
      \arrow["f"', from=2-1, to=2-2]
    \end{tikzcd}\]
  Explicitly, $\ctxWkn(f,\sigma)$ is given by $(f, x)$.
  In fact, the diagram commutes up to variable renaming.
\end{example}

If $\Gamma \vdash f \Rightarrow \Delta$ and $\Delta \vdash g \Rightarrow \Theta$ where $g = (t_1,\ldots,t_k)$ we can form the sequence $g \circ f = (t_1[f],\ldots,t_k[f])$.
By a straightforward induction argument, one can show the following:

\begin{proposition}
  Assume $B \vdash e \Rightarrow \Gamma$, $\Gamma \vdash f \Rightarrow \Delta$, and $\Delta \vdash g \Rightarrow \Theta$.
  Furthermore, let $\Theta \vdash \typeJudg{\sigma}$ and $\Theta \vdash t : \sigma$; then the following equations hold (up to variable renaming).
  \begin{align*}
    \Gamma \vdash g &\circ f \Rightarrow \Theta\\
    \sigma[g \circ f] &= \sigma[g][f]\\
    t[g \circ f] &= t[g][f]\\
    (g \circ f) \circ e &= g \circ (f \circ e)
  \end{align*}
\end{proposition}

\begin{proposition}
  The followings hold (up to variable renaming):
  \begin{enumerate}
  \item If $\Gamma \vdash f \Rightarrow \Delta$, then $\id{\Delta} \circ f = f = f \circ \id{\Gamma}$.
  \item If $\Gamma \vdash t : \sigma$, then $\ctxExt(\Gamma,\sigma) \circ \ctxSec{t} = \id{\Gamma}$.
  \item If $\Gamma \vdash (f,t) \Rightarrow \Delta,x : \sigma$, then $\ctxExt(\Gamma,\sigma) \circ (f, t) = f$ and $x[(f,t)] = t$.
  \item If $\Gamma \vdash f \Rightarrow \Delta$ and $\vdash \ctxJudg{\Delta,x : \sigma}$ then $\ctxExt(\Delta,\sigma) \circ \ctxWkn(f,x:\sigma) = f \circ \ctxExt(\Gamma,\sigma[f])$.
  \item If $\Gamma \vdash f \Rightarrow \Delta$ and $\Delta \vdash t : \sigma$, then $\ctxSec{t} \circ f = \ctxWkn(f,x : \sigma) \circ \ctxSec{t[f]}$.
  \item If $\Gamma \vdash \typeJudg{\sigma}$ and $x$ is fresh, then $\id{\Gamma,x:\sigma} = (\ctxExt(\Gamma,\sigma),x)$.
  \end{enumerate}
\end{proposition}

\section{Category with families}\label{sec:cwf}

A category with families \emph{should} contain the following data:
\begin{enumerate}
\item a category $\cC$ of semantic contexts and context morphisms;
\item for $\Gamma \in \cC$, a collection $\Ty{\cC}(\Gamma)$ of semantic types;
\item for $\Gamma \in \cC$ and $\sigma \in \Ty{\cC}(\Gamma)$, a collection $\Tm{\cC}(\Gamma,\sigma)$ of semantic terms.
\end{enumerate}

This is the most bare-metal definition; it only accounts for the structural rules common to all systems of dependent types.

\begin{definition}
  The category $\Fam$ of families of sets has as objects pairs $(B^0,B^1)$ where $B^0$ is a set and $(B^1_b)_{b \in B^0}$ is a family of sets indexed over $B^0$; a morphism from $(B^0,B^1)$ to $(C^0,C^1)$ is a pair $(f^0,f^1)$ where $f^0 : B^0 \to C^0$ is a function and $f^1 = (f^1_b)_{b \in B^0}$ is a family of functions $f^1_b : B^1_b \to C^1_{f^0(b)}$.
\end{definition}

\begin{definition}
  Let $\cC$ be a category and $F = (\Ty{\cC},\Tm{\cC}) : \cC\op \to \Fam$ be a functor; let $\Gamma \in \cC$ and $\sigma \in \Ty{\cC}(\Gamma)$.
  A \emph{comprehension} of $\sigma$ is given by an object $\Gamma.\sigma \in \cC$ together with two projections $\ctxExt(\sigma) : \Gamma.\sigma \to \Gamma$ and $v_{\sigma} \in \Tm{\cC}(\Gamma.\sigma, \semSubst{\sigma}{\ctxExt(\sigma)})$ such that for each $f : \Delta \to \Gamma$ and $t \in \Tm{\cC}(\Delta,\semSubst{\sigma}{f})$ there exists a unique morphism $\semComp{f}{t}{\sigma} : \Delta \to \Gamma.\sigma$ satisfying $\ctxExt(\sigma) \circ \semComp{f}{t}{\sigma} = f$ and $\semSubst{v_{\sigma}}{\semComp{f}{t}{\sigma}} = t$.
  % https://q.uiver.app/#q=WzAsMyxbMSwxLCJcXEdhbW1hIl0sWzEsMCwiXFxHYW1tYS5cXHNpZ21hIl0sWzAsMSwiXFxEZWx0YSJdLFsxLDAsIlxcY3R4UChcXHNpZ21hKSJdLFsyLDAsImYiLDJdLFsyLDEsIlxcc2VtQ29tcHtmfXt0fXtcXHNpZ21hfSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
  \[\begin{tikzcd}
      & {\Gamma.\sigma} \\
      \Delta & \Gamma
      \arrow["{\ctxExt(\sigma)}", from=1-2, to=2-2]
      \arrow["{\semComp{f}{t}{\sigma}}", dashed, from=2-1, to=1-2]
      \arrow["f"', from=2-1, to=2-2]
    \end{tikzcd}\]
\end{definition}

\begin{definition}
  A \emph{category with families} (CwF) is given by the following data:
  \begin{itemize}
  \item a category $\cC$ with terminal object;
  \item a functor $F = (\Ty{\cC},\Tm{\cC}) : \cC\op \to \Fam$;
  \item a comprehension for each $\Gamma \in \cC$ and $\sigma \in \Ty{\cC}(\Gamma)$.
  \end{itemize}
\end{definition}

\subsubsection{Terms and sections}\label{sec:tas}

Given a CwF $\cC$.
If $t \in \Tm{\cC}(\Gamma,\sigma)$ then also $t \in \Tm{\cC}(\Gamma,\semSubst{\sigma}{\id{\Gamma}})$.
Then we can define the semantic counterpart of \cref{eg:bar} as the unique section in the following configuration:
% https://q.uiver.app/#q=WzAsMyxbMCwxLCJcXEdhbW1hIl0sWzEsMCwiXFxHYW1tYS5cXHNpZ21hIl0sWzEsMSwiXFxHYW1tYSJdLFswLDEsIlxcY3R4U2Vje3R9IiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMiwiIiwyLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMSwyLCJcXGN0eEV4dChcXHNpZ21hKSJdXQ==
\[\begin{tikzcd}
    & {\Gamma.\sigma} \\
    \Gamma & \Gamma
    \arrow["{\ctxExt(\sigma)}", from=1-2, to=2-2]
    \arrow["{\ctxSec{t}}", dashed, from=2-1, to=1-2]
    \arrow[equals, from=2-1, to=2-2]
  \end{tikzcd}\]

Conversely, if $f : \Gamma \to \Gamma.\sigma$ is a section of $\ctxExt(\sigma)$ then
\[
  \semSubst{v_{\sigma}}{f} \in \Tm{\cC}(\Gamma,\sigma)
\] 
Thus, there is a bijective correspondence between the set of sections of $\ctxExt(\sigma)$ and $\Tm{\cC}(\Gamma,\sigma)$.

\subsubsection{Weakening}\label{sec:w}

Suppose that $f : \Delta \to \Gamma$ and $\sigma \in \Ty{\cC}(\Gamma)$.
There is a unique morphism $\ctxWkn(f,\sigma) : B.\semSubst{\sigma}{f} \to \Gamma.\sigma$, called the weakening of $f$ by $\sigma$, given by comprehension in the following configuration:
% https://q.uiver.app/#q=WzAsMyxbMSwxLCJcXEdhbW1hIl0sWzEsMCwiXFxHYW1tYS5cXHNpZ21hIl0sWzAsMSwiXFxEZWx0YS5cXHNlbVN1YnN0e1xcc2lnbWF9e2Z9Il0sWzEsMCwiXFxjdHhFeHQoXFxzaWdtYSkiXSxbMiwwLCJmIFxcY2lyYyBcXGN0eEV4dChcXHNlbVN1YnN0e1xcc2lnbWF9e2Z9KSIsMl0sWzIsMSwiXFxjdHhXa24oZixcXHNpZ21hKSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
\[\begin{tikzcd}
    & {\Gamma.\sigma} \\
    {\Delta.\semSubst{\sigma}{f}} & \Gamma
    \arrow["{\ctxExt(\sigma)}", from=1-2, to=2-2]
    \arrow["{\ctxWkn(f,\sigma)}", dashed, from=2-1, to=1-2]
    \arrow["{f \circ \ctxExt(\semSubst{\sigma}{f})}"', from=2-1, to=2-2]
  \end{tikzcd}\]

\begin{proposition}
  Let $\cC$ be a CwF, $f : B \to \Gamma$, and $\sigma \in \Ty{\cC}{\Gamma}$.
  The following square is a pullback.
  % https://q.uiver.app/#q=WzAsNCxbMCwxLCJCIl0sWzEsMSwiXFxHYW1tYSJdLFsxLDAsIlxcR2FtbWEuXFxzaWdtYSJdLFswLDAsIkIuXFxzZW1TdWJzdHtcXHNpZ21hfXtmfSJdLFswLDEsImYiLDJdLFszLDAsIlxcY3R4UChcXHNlbVN1YnN0e1xcc2lnbWF9e2Z9KSIsMl0sWzIsMSwiXFxjdHhQKFxcc2lnbWEpIl0sWzMsMiwiXFxjdHhRKGYsXFxzaWdtYSkiXSxbMywxLCIiLDEseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XV0=
  \[\begin{tikzcd}
      {B.\semSubst{\sigma}{f}} & {\Gamma.\sigma} \\
      B & \Gamma
      \arrow["{\ctxWkn(f,\sigma)}", from=1-1, to=1-2]
      \arrow["{\ctxExt(\semSubst{\sigma}{f})}"', from=1-1, to=2-1]
      \arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
      \arrow["{\ctxExt(\sigma)}", from=1-2, to=2-2]
      \arrow["f"', from=2-1, to=2-2]
    \end{tikzcd}\]
\end{proposition}

\subsection{Semantic type formers}\label{sec:stf}

In order to interpret type formers, the given CwF must be equipped with additional structures...

\begin{definition}\label{def:pi}
  A CwF $\cC$ supports $\Pi$-types if for any two types $\sigma \in \Ty{\cC}(\Gamma)$ and $\tau \in \Ty{\cC}(\Gamma.\sigma)$, we have the followings:
  \begin{itemize}
  \item \emph{(formation)}: a type $\typePi(\sigma,\tau) \in \Ty{\cC}(\Gamma)$;
  \item \emph{(introduction)}: for each term $t \in \Tm{\cC}(\Gamma.\sigma)$, there is a term $\lam_{\sigma,\tau}(t) \in \Tm{\cC}(\Gamma,\typePi(\sigma,\tau))$;
  \item \emph{(elimination)}: for each term $u \in \Tm{\cC}(\Gamma,\typePi(\sigma,\tau))$ and $s \in \Tm{\cC}(\Gamma,\sigma)$, there is a term $\app(u,s) \in \Tm{\cC}(\Gamma,\semSubst{\tau}{\ctxSec{u}})$.
  \end{itemize}
  subject to the following equations:
  \begin{align*}
    \app_{\sigma,\tau}(\lam_{\sigma,\tau}(u),s) &= \semSubst{u}{\ctxSec{s}}
    && \beta\text{-law}\\
    \semSubst{\typePi(\sigma,\tau)}{f} &= \typePi(\semSubst{\sigma}{f},\semSubst{\tau}{\ctxWkn(f,\sigma)})\\
    \semSubst{\lam_{\sigma,\tau}(t)}{f} &= \lam_{\semSubst{\sigma}{f},\semSubst{\tau}{\ctxWkn(f,\sigma)}}(\semSubst{t}{\ctxWkn(f,\sigma)})\\
    \semSubst{\app_{\sigma,\tau}(u,s)}{f} &= \app_{\semSubst{\sigma}{f},\semSubst{\tau}{\ctxWkn(f,\sigma)}}(\semSubst{u}{f},\semSubst{s}{f})
  \end{align*}
\end{definition}

\begin{proposition}
  A CwF $\cC$ supports dependent function spaces if and only if there are operations $\typePi$ and $\lam$ as in \cref{def:pi}; additionally, for any two types $\sigma \in \Ty{\cC}(\Gamma)$ and $\tau \in \Ty{\cC}(\Gamma.\sigma)$, there exists a morphism in the following configuration:
  % https://q.uiver.app/#q=WzAsMyxbMCwwLCJcXEdhbW1hLlxcc2lnbWEuXFxzZW1TdWJzdHtcXHR5cGVQaShcXHNpZ21hLFxcdGF1KX17XFxjdHhFeHQoXFxzaWdtYSl9Il0sWzIsMCwiXFxHYW1tYS5cXHNpZ21hLlxcdGF1Il0sWzAsMSwiXFxHYW1tYS5cXHNpZ21hIl0sWzAsMSwiXFxhcHBfe1xcc2lnbWEsXFx0YXV9IiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZG90dGVkIn19fV0sWzEsMiwiXFxjdHhFeHQoXFx0YXUpIl0sWzAsMiwiXFxjdHhFeHQoXFxzZW1TdWJzdHtcXHR5cGVQaShcXHNpZ21hLFxcdGF1KX17XFxjdHhFeHQoXFxzaWdtYSl9KSIsMl1d
  \[\begin{tikzcd}
      {\Gamma.\sigma.\semSubst{\typePi(\sigma,\tau)}{\ctxExt(\sigma)}} && {\Gamma.\sigma.\tau} \\
      {\Gamma.\sigma}
      \arrow["{\app_{\sigma,\tau}}", dotted, from=1-1, to=1-3]
      \arrow["{\ctxExt(\semSubst{\typePi(\sigma,\tau)}{\ctxExt(\sigma)})}"', from=1-1, to=2-1]
      \arrow["{\ctxExt(\tau)}", from=1-3, to=2-1]
    \end{tikzcd}\]
  such that the following properties hold:
  \begin{itemize}
  \item for every term $t \in \Tm{\cC}(\Gamma.\sigma,\tau)$, the following diagram commutes:
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJcXEdhbW1hLlxcc2lnbWEuXFxzZW1TdWJzdHtcXHR5cGVQaShcXHNpZ21hLFxcdGF1KX17XFxjdHhFeHQoXFxzaWdtYSl9Il0sWzIsMCwiXFxHYW1tYS5cXHNpZ21hLlxcdGF1Il0sWzAsMSwiXFxHYW1tYS5cXHNpZ21hIl0sWzAsMSwiXFxhcHBfe1xcc2lnbWEsXFx0YXV9Il0sWzIsMSwiXFxjdHhTZWN7dH0iLDJdLFsyLDAsIlxcY3R4U2Vje1xcc2VtU3Vic3R7XFxsYW1fe1xcc2lnbWEsXFx0YXV9KHQpfXtcXGN0eEV4dChcXHNpZ21hKX19Il1d
    \[\begin{tikzcd}
	{\Gamma.\sigma.\semSubst{\typePi(\sigma,\tau)}{\ctxExt(\sigma)}} && {\Gamma.\sigma.\tau} \\
	{\Gamma.\sigma}
	\arrow["{\app_{\sigma,\tau}}", from=1-1, to=1-3]
	\arrow["{\ctxSec{\semSubst{\lam_{\sigma,\tau}(t)}{\ctxExt(\sigma)}}}", from=2-1, to=1-1]
	\arrow["{\ctxSec{t}}"', from=2-1, to=1-3]
      \end{tikzcd}\]
  \item ...
  \end{itemize}
\end{proposition}



\begin{definition}
  A CwF $\cC$ supports strict $\Pi$-types if it supports them and whenever $t \in \Tm{\cC}(\Gamma.\sigma,\tau)$ and $s \in \Tm{\cC}(\typePi(\sigma,\tau))$ and $\app_{\sigma,\tau} \circ \ctxSec{s^+} = \ctxSec{t}$ then $s = \lam_{\sigma,\tau}(t)$.
\end{definition}

\subsubsection{The term model}\label{sec:ttm}
\subsubsection{The set model}\label{sec:tsm}
\subsubsection{The $\omega$-set model}\label{sec:twsm}
\subsubsection{Modest sets}\label{sec:ms}
\subsubsection{The presheaf model}\label{sec:tpm}
\subsection{Interpretation of the syntax}\label{sec:iots}

Assume a fixed type theory and a CwF $\cC$ supporting the type and term formers present in this theory.
We define a partial interpretation function $\intp{-}$ which maps
\begin{itemize}
\item pre-contexts $\Gamma$ to objects of $\cC$;
\item pairs $\Gamma;\sigma$, where $\Gamma$ is a pre-context and $\sigma$ is a pre-type, to families in $\Ty{\cC}(\intp{\Gamma})$;
\item pairs $\Gamma;t$, where $\Gamma$ is a pre-context and $t$ is a pre-term, to elements of $\Tm{\cC}(\Gamma,\sigma)$ for some $\sigma \in \Ty{\cC}(\intp{\Gamma})$.
\end{itemize}

\begin{proposition}[Soundness]
  The interpretation function enjoys the following soundness properties:
  \begin{itemize}
  \item if $\ctxJudg{\Gamma}$, then $\intp{\Gamma}$ is an object of $\cC$;
  \item if $\Gamma \vdash \typeJudg{\sigma}$, then $\intp{\Gamma;\sigma}$ is an element of $\Ty{\cC}(\intp{\Gamma})$;
  \item if $\Gamma \vdash t : \sigma$, then $\intp{\Gamma;t}$ is an element of $\Tm{\cC}(\intp{\Gamma},\intp{\Gamma;\sigma})$;
  \item if $\Gamma \vdash \typeJudg{\sigma = \tau}$, then $\intp{\Gamma;\sigma} = \intp{\Gamma;\tau}$;
  \item if $\Gamma \vdash u = s : \sigma$, then $\intp{\Gamma;u} = \intp{\Gamma;s}$.
  \end{itemize}
\end{proposition}

\subsection{Conservativity of the logical framework}\label{sec:cotlf}

\begin{proposition}[Conservativity]
  If $\Gamma \dvdash{\cT} \typeJudg{\sigma}$ and $\Gamma \dvdash{\LF{\cT}} t : \sigma$ for some term $t$, then there exists a term $t'$ such that $\Gamma \dvdash{\cT} t' : \sigma$.
\end{proposition}

\section{Other notions of semantics}\label{sec:onos}

\bibliography{semdtt}
\bibliographystyle{alpha}

\end{document}
