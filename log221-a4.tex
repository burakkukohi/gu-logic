\documentclass[a4paper]{article}
\usepackage[margin=1in]{geometry}

\usepackage{preamble}
\usepackage{log221-a4-macros}
\usepackage{showkeys}

\title{LOG 221 - A4}
\author{Frank Tsai}

\begin{document}

\maketitle

By inspection, the inversion lemma still holds for $\dVdash{n}{\ell}{k}{q}$.
\begin{lemma}\label{0000}
  If $\dVdash{n}{\ell}{k}{q} \Gamma \Rightarrow C,\Delta$ and $\dVdash{m}{\ell}{k}{q} \Lambda,C \Rightarrow \Pi$ with $\dRank{C} = \ell + 1$, $\cRank{C} = k$, and $\qRank{C} < q$, then $\dVdash{h}{\ell}{k}{q} \Gamma,\Lambda \Rightarrow \Delta,\Pi$, where $h \leq \max(n,m) + 2$.
\end{lemma}
\begin{proof}
  We proceed by case analysis on $C$.
  Since $\dRank{C} \geq 1$, we do not have to consider $C = p$, $C = \bot$, and $C = Qx.A(x)$.
  \begin{itemize}
  \item[$\lnot A$:] By inversion, we have $\dVdash{n}{\ell}{k}{q} \Gamma,A \Rightarrow \Delta$ and $\dVdash{m}{\ell}{k}{q} \Gamma \Rightarrow A, \Delta$.
    Since $\dRank{A} = \ell$, $\cRank{A} < k$, and $\qRank{\lnot A} = \qRank{A} < q$, we can apply \rCut{} to obtain the required sequent.
    The height of this derivation is bounded by $\max(n,m) + 1$.
  \item[$A \wedge B$:] By inversion, we have $\dVdash{n}{\ell}{k}{q} \Gamma \Rightarrow A,\Delta$; $\dVdash{n}{\ell}{k}{q} \Gamma \Rightarrow B,\Delta$; and $\dVdash{m}{\ell}{k}{q} \Lambda,A,B \Rightarrow \Pi$.
    Since $\dRank{A}$ and $\dRank{B}$ are bounded by $\ell$, $\cRank{A}$ and $\cRank{B}$ are strictly less than $k$, and similarly $\qRank{A} < q$ and $\qRank{B} < q$, we can apply two \rCut{}s to obtained the required sequent.
    \[
      \ebrule{
        \hypo{\Gamma \Rightarrow A,\Delta}
        \hypo{\Gamma \Rightarrow B,\Delta}
        \hypo{\Lambda,A,B \Rightarrow \Pi}
        \infer2[\rCut]{\Gamma,\Lambda,A \Rightarrow \Delta,\Pi}
        \infer2[\rCut]{\Gamma,\Lambda \Rightarrow \Delta,\Pi}
      }
    \]
    The height of this derivation is bounded by $\max(n,m) + 2$.
  \item[$A \vee B$:] This is analogous to the previous case: use inversion on both assumptions; and then apply two \rCut{}s.
  \end{itemize}
\end{proof}

% \bibliography{bib}
% \bibliographystyle{alpha}

\end{document}
