\documentclass[a4paper]{article}

\usepackage{preamble}
\addbibresource{references/refs.bib}

\title{Finite satisfiability}
% \author{Frank Tsai}

\begin{document}

\maketitle

\begin{lemma}
  Every finitely satisfiable set $\Gamma$ can be extended to a complete and finitely satisfiable set $\Gamma^{*}$.
\end{lemma}
\begin{proof}
  Fix an arbitrary enumeration of formulas.
  Define $\Gamma^{*}$ as follows.
  \begin{mathpar}
    \Gamma_{0} = \Gamma\and
    \Gamma_{n+1} =
    \begin{cases}
      \Gamma_{n} \cup \{\varphi_{n}\} & \text{if the resulting set is finitely satisfiable,}\\
      \Gamma_{n} \cup \{\lnot\varphi_{n}\} & \text{otherwise.}
    \end{cases}\and
    \Gamma^{*} = \bigcup\Gamma_{n}
  \end{mathpar}
  Complete: every formula $\varphi$ is named by a natural number $n$, so either $\varphi$ or $\lnot\varphi$ is added at step $n+1$.

  Finitely satisfiable: by induction on $n$, we show that each $\Gamma_{n}$ is finitely satisfiable.
  In the base case, we have $\Gamma_{0} = \Gamma$, which is finitely satisfiable by hypothesis.
  In the induction step, the induction hypothesis tells us that $\Gamma_{n}$ is finitely satisfiable.
  It remains to verify that $\Gamma_{n+1}$ is also finitely satisfiable.
  There are 2 cases.
  If $\Gamma_{n+1} = \Gamma_{n} \cup \{\varphi_{n}\}$, then $\Gamma_{n+1}$ is finitely satisfiable by construction.
  If $\Gamma_{n+1} = \Gamma_{n} \cup \{\lnot\varphi_{n}\}$, then $\Gamma_{n} \cup \{\varphi_{n}\}$ is not finitely satisfiable.
  Suppose that $\Gamma_{n} \cup \{\lnot\varphi_{n}\}$ is not finitely satisfiable either.
  Then consider any two unsatisfiable finite subsets $\Delta \subseteq  \Gamma_{n} \cup \{\varphi_{n}\}$ and $\Xi \subseteq \Gamma_{n} \cup \{\lnot\varphi_{n}\}$.
  Note that $\varphi_{n} \in \Delta$ and $\lnot\varphi_{n} \in \Xi$ since any finite subset of $\Gamma_{n}$ is satisfiable.

  We claim that $\Pi := (\Delta \setminus \{\varphi_{n}\}) \cup (\Xi \setminus \{\lnot\varphi_{n}\})$ is an unsatisfiable subset of $\Gamma_{n}$.
  Suppose the contrary.
  Then there is a structure $M$ such that $M \vDash \Pi$.
  Then we have $M \vDash \Delta \setminus \{\varphi_{n}\}$ and $M \vDash \Xi \setminus \{\lnot\varphi_{n}\}$.
  Since $\Delta$ is unsatisfiable, we must have that $M \nvDash \varphi_{n}$, but this means that $M \vDash \lnot\varphi_{n}$, so $M \vDash \Xi$.
  This is a contradiction.
  Thus, we have found an unsatisfiable finite subset $\Pi$ of $\Gamma_{n}$, contradicting the induction hypothesis.

  It remains to show that $\Gamma^*$ is finitely satisfiable.
  To this end, let $A \subseteq \Gamma^*$ be an unsatisfiable finite subset.
  By construction $\Gamma_{n} \subseteq \Gamma_{n+1}$ for all $n$, so $A$ must lie in $\Gamma_{k}$ for some $k$, but this means that $\Gamma_{k}$ is not finitely satisfiable, which is a contradiction.
\end{proof}


% \printbibliography

\end{document}
